<div class="row justify-content">
  <div class="col-3"> 
  </div>
  <div class="col-6">
    <h1 class="display-4 font-weight-bold text-center text-muted mb-5">
      Registrar dieta
    </h1>
  </div>
  <div class="col-3" style="margin-top: 20px; padding-left: 80px; "> 
    <button type="button" class="btn btn-danger mb-5" (click)="crearAlimento()">Agregar alimento</button>
  </div>
</div>
<!-- <div class="col-3 d-flex align-items-center justify-content-end">
    <button type="button" class="btn btn-danger mb-5 text-center position-relative">Agregar alimento</button>
  </div> -->

<form [formGroup]="formularioGroup" *ngIf="formularioGroup.value">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-sm-6">
        <div class="border p-4 rounded row border-dark" style="justify-content: center;">
          <div class="mb-3 row">
            <label for="nombreDieta" class="form-label col-sm-4 text-right col-form-label">Nombre de la Dieta </label>
            <div class="col-sm-8">
              <input type="text" class="form-control" id="nombreDieta" formControlName="nombreDieta">
            </div>
          </div>

          <div class="mb-3 row">
            <label for="fechaCreacion" class="form-label col-sm-4 text-right col-form-label">Fecha de Creación</label>
            <div class="col-sm-8">
              <input type="date" class="form-control" id="fechaCreacion" formControlName="fechaCreacion">
            </div>
          </div>

          <div class="mb-3 row">
            <label for="observacion" class="form-label col-sm-4 text-right col-form-label">Observación </label>
            <div class="col-sm-8">
              <textarea class="form-control" id="observacion" formControlName="observacion"></textarea>
            </div>
          </div>
        </div>



        <div formArrayName="detallesDieta">
          <div *ngFor="let detalle of detallesDietaArray.controls; let i = index">
            <br>
            <div class="border p-4 rounded row border-dark" style="justify-content: center;" [formGroupName]="i">
              <div class="mb-3 row">
                <label class="form-label col-sm-4 text-right col-form-label" for="idAlimento">Alimento </label>
                <div class="col-sm-8">
                  <select class="form-select" id="idAlimento" formControlName="idAlimento">
                    <option [ngValue]="alimento.idAlimento" *ngFor="let alimento of listaAlimentos">{{
                      alimento.nombreAlimento }}</option>
                  </select>
                </div>

              </div>
              <div class="mb-3 row">
                <label class="form-label col-sm-4 text-right col-form-label" for="porcentaje">Porcentaje (%) </label>
                <div class="col-sm-8">
                  <input type="number" class="form-control" id="porcentaje" formControlName="porcentaje">
                </div>
              </div>
              <div class="col-sm-2" style="justify-content: center;">
                <button type="button" class="btn btn-danger" (click)="eliminarDetalle(i)">Eliminar</button>
              </div>
            </div>
          </div>
        </div>
        <br>
        <div class="row mb-3">
          <div class="col-sm-12">
            <button type="button" class="btn btn-primary" (click)="agregarDetalle()">Agregar detalle</button>
          </div>
        </div>

        <div class="row mb-3">
          <div class="col-sm-12">
            <button type="button" class="btn btn-success" (click)="guardar()">Guardar</button>
            <button type="button" class="btn btn-secondary" (click)="limpiarForm()">Cancelar</button>
          </div>
        </div>
      </div>
    </div>
  </div>

</form>